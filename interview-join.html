<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Interview - AI Hiring Platform</title>
  <link rel="stylesheet" href="global.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-content">
      <a href="landing.html" class="navbar-brand">AI Hiring</a>
      <ul class="navbar-nav">
        <li><a href="user-dashboard.html" class="navbar-link">My Applications</a></li>
      </ul>
    </div>
  </nav>

  <!-- Interview Join Section -->
  <section class="dashboard">
    <div class="container-small">
      <!-- Page Header -->
      <div class="text-center mb-4">
        <h1 class="dashboard-title">AI Interview</h1>
        <p class="text-muted">Get ready for your interview</p>
      </div>

      <!-- Job Info Card -->
      <div class="card mb-4">
        <h2 style="font-size: 1.25rem; margin-bottom: 0.5rem;">Senior Software Engineer</h2>
        <p class="text-muted">Google • Mountain View, CA</p>
      </div>

      <!-- Interview Instructions Card -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Before You Begin</h2>
        </div>
        <div class="card-body">
          <h3 style="font-size: 1rem; margin-bottom: 0.75rem;">Interview Format</h3>
          <ul style="padding-left: 1.5rem; margin-bottom: 1.5rem; color: #555;">
            <li style="margin-bottom: 0.5rem;">This is an AI-powered interview with 5-7 questions</li>
            <li style="margin-bottom: 0.5rem;">Questions will cover technical skills, problem-solving, and experience</li>
            <li style="margin-bottom: 0.5rem;">You can type your answers or use voice input</li>
            <li style="margin-bottom: 0.5rem;">Estimated time: 30-45 minutes</li>
            <li style="margin-bottom: 0.5rem;">You cannot pause once started</li>
          </ul>

          <h3 style="font-size: 1rem; margin-bottom: 0.75rem;">Technical Requirements</h3>
          <ul style="padding-left: 1.5rem; margin-bottom: 1.5rem; color: #555;">
            <li style="margin-bottom: 0.5rem;">Stable internet connection</li>
            <li style="margin-bottom: 0.5rem;">Use a desktop or laptop (recommended)</li>
            <li style="margin-bottom: 0.5rem;">Enable microphone if using voice input</li>
            <li style="margin-bottom: 0.5rem;">Close other applications for best performance</li>
          </ul>

          <h3 style="font-size: 1rem; margin-bottom: 0.75rem;">Tips for Success</h3>
          <ul style="padding-left: 1.5rem; margin: 0; color: #555;">
            <li style="margin-bottom: 0.5rem;">Find a quiet environment without distractions</li>
            <li style="margin-bottom: 0.5rem;">Think before answering - quality over speed</li>
            <li style="margin-bottom: 0.5rem;">Be specific and provide examples from your experience</li>
            <li style="margin-bottom: 0.5rem;">It's okay to ask for clarification</li>
            <li style="margin-bottom: 0.5rem;">Be yourself and stay calm</li>
          </ul>
        </div>
      </div>

      <!-- System Check Card -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">System Check</h2>
        </div>
        <div class="card-body">
          <div class="flex items-center gap-2 mb-2">
            <span style="font-size: 1.5rem;">✓</span>
            <span>Internet Connection: <strong style="color: #16a34a;">Good</strong></span>
          </div>
          <div class="flex items-center gap-2 mb-2">
            <span style="font-size: 1.5rem;">✓</span>
            <span>Browser Compatibility: <strong style="color: #16a34a;">Supported</strong></span>
          </div>
          <div class="flex items-center gap-2">
            <span style="font-size: 1.5rem;">⚠</span>
            <span>Microphone: <strong style="color: #d97706;">Not Detected</strong> (Optional)</span>
          </div>
        </div>
      </div>

      <!-- Consent Card -->
      <div class="card">
        <div class="form-checkbox-group">
          <input 
            type="checkbox" 
            id="consent" 
            name="consent" 
            class="form-checkbox"
            required
          >
          <label for="consent" class="form-label" style="margin-bottom: 0;">
            I understand the interview format and am ready to begin. I consent to my responses being recorded and analyzed by AI.
          </label>
        </div>
      </div>

      <!-- Start Button -->
      <div class="text-center">
        <button class="btn btn-primary btn-large btn-block" id="startBtn" onclick="startInterview()" disabled>
          Start Interview
        </button>
        <p class="text-small text-muted mt-2">
          <a href="user-dashboard.html">Cancel and return to dashboard</a>
        </p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <p class="footer-text">&copy; 2024 AI Hiring Platform. All rights reserved.</p>
      <ul class="footer-links">
        <li><a href="privacy.html" class="footer-link">Privacy Policy</a></li>
      </ul>
    </div>
  </footer>

  <!-- <script>
    // Check authentication
    const token = localStorage.getItem('userToken');
    if (!token) {
      window.location.href = 'user-login.html';
    }

    // Enable start button when consent is checked
    document.getElementById('consent').addEventListener('change', (e) => {
      document.getElementById('startBtn').disabled = !e.target.checked;
    });

    // Start interview
    function startInterview() {
      const consent = document.getElementById('consent').checked;
      
      if (!consent) {
        alert('Please agree to the terms before starting the interview.');
        return;
      }

      // Check system readiness
      if (!navigator.onLine) {
        alert('No internet connection detected. Please check your connection and try again.');
        return;
      }

      // Redirect to interview page
      const urlParams = new URLSearchParams(window.location.search);
      const jobId = urlParams.get('jobId') || 'job-123';
      const applicationId = urlParams.get('applicationId') || 'app-123';
      
      window.location.href = `interview.html?jobId=${jobId}&applicationId=${applicationId}`;
    }

    // Check microphone permission
    async function checkMicrophone() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        stream.getTracks().forEach(track => track.stop());
        // Update UI to show microphone is working
        console.log('Microphone access granted');
      } catch (error) {
        console.log('Microphone not available:', error);
      }
    }

    // Run checks on load
    // checkMicrophone(); // Uncomment if needed
  </script> -->
</body>
</html>
